language: python
python:
    - "2.7_with_system_site_packages"
    - "3.3"
sudo: false
addons:
    apt:
        packages:
            - python-numpy
            - python-scipy
            - python-matplotlib
            - python-tk
before_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
install:
  - pip install coveralls
  - if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then pip install -r requirements-py2.txt --use-mirrors; fi
  - if [[ $TRAVIS_PYTHON_VERSION == 3* ]]; then pip install -r requirements-py3.txt --use-mirrors; fi
  - python setup.py install
script:
  - nosetests --with-doctest --with-coverage --cover-package=pymola --where=pymola
after_success:
  - coveralls
